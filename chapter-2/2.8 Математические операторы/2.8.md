# операторы

## математические операторы:

-   Сложение +,
-   Вычитание -,
-   Умножение \*,
-   Деление /,
-   Взятие остатка от деления %,
-   Возведение в степень \*\*.

## Взятие остатка %

    a % b – это остаток от целочисленного деления a на b.

    -   a называется делимым
    -   b называется делителем

```js

    5 % 2; // 1, остаток от деления 5 на 2
    8 % 3; // 2, остаток от деления 8 на 3
    8 % 4; // 0, остаток от деления 8 на 4
    8 % 4.1; // 3.9000000000000004
    8.5 % 4; // 0.5

```

**всегда принимает знак делимого**

```js
    -13 % 5; // -3
    13 % -5; // 3

    -3n % 2n; // -1n
    3n % -2n; // 1n

    6n % 2; // TypeError: Cannot mix BigInt and other types
    6 % 2n; // TypeError: Cannot mix BigInt and other types
```

**при операциях с Infinity**

```js
    // если делимое Infinity то NaN

    Infinity % 2; // NaN
    Infinity % 0; // NaN
    Infinity % Infinity; // NaN

    // если делитель Infinity возвращается делимое
    2 % Infinity; // 2
    0 % Infinity; // 0
```

**при операциях с NaN всегда NaN**

```js
    NaN % 2; // NaN
    2 % NaN; // NaN
```

**Преобразование типов при использовании %**

если значения не могут быть корректно преобразованы в числа, результатом будет NaN

## возведение в степень `**`

    a \*\* b - возведение а в степень b

```js
    2 ** 2; // 2² = 4
    3 ** 2; // 3² = 9
    2 ** 3; // 2³ = 8
```

**при операциях с Infinity**

```js
    Infinity ** 2; // Infinity
    1 ** Infinity; // NaN
    Infinity ** Infinity; // Infinity
```

**при операциях с NaN**

```js
    NaN ** 0; // 1
    NaN ** 2; // NaN
    1 ** NaN; // NaN
    NaN ** NaN; // NaN
```

**со строкой**

```js

    2 ** "hello"; // NaN

```

**необходимо явное преобразование типов**

```js

    2n ** 2; // TypeError: Cannot mix BigInt and other types, use explicit conversions
    2 ** 2n; // TypeError: Cannot mix BigInt and other types, use explicit conversions

    2n ** BigInt(2); // 4n
    Number(2n) ** 2; // 4

```

**унарный +**

-   c чмслами ничего не делает
-   другие типы старается привести к числу, то же самое, что и Number(...)

## приоритет математических операторов

| Приоритет | Оператор                | Описание                          |
|-----------|-------------------------|-----------------------------------|
| 1         | `**`                    | Возведение в степень              |
| 2         | `*`, `/`, `%`           | Умножение, деление, остаток       |
| 3         | `+`, `-`                | Сложение и вычитание              |
| 4         | `<<`, `>>`, `>>>`       | Побитовые сдвиги                  |
| 5         | `<`, `<=`, `>`, `>=`    | Сравнения                         |
| 6         | `==`, `!=`, `===`, `!==`| Сравнение значений и типов        |
| 7         | `&`                     | Побитовое И                       |
| 8         | `^`                     | Побитовое исключающее ИЛИ         |
| 9         | `|`                     | Побитовое ИЛИ                     |
| 10        | `&&`                    | Логическое И                      |
| 11        | `||`                    | Логическое ИЛИ                    |
| 12        | `? :`                   | Тернарный оператор                |
| 13        | `=` , `+=`, `-=` и др.  | Присваивание                      |

## Присваивание

    Вызов с присваиванием имеет в точности такой же приоритет, как обычное присваивание
    let n = 2;
    n *= 3 + 5; // сначала 3+5 затем 8 во второй степени

**арифметика с присваиванием**

-   знак слева

```js
    let n = 2;
    n += 5; // теперь n = 7 (работает как n = n + 5)
    n *= 2; // теперь n = 14 (работает как n = n * 2)
    n =+ 5; // теперь n = 5 (работает как n = 5)
```
    Инкремент/декремент можно применить только к переменной. Попытка использовать его на значении, типа 5++, приведёт к ошибке.

- постфиксная форма: counter++, возвращает старое значение затем арифметика применяется.

```js
    let counter = 1;
    let a = counter++; // a = 2
    console.log(a);
```
- префиксная форма: ++counter, возвращает новое значение c учетом арифметики.

```js
    let counter = 1;
    let a = ++counter; // a = 1
    console.log(a);
```
## Побитовые

применяются для операций таких как обработка изображений, работа с криптографией и оптимизация кода
- эффективнее чем арифметические операции
- для манипуляций с пикселями и цветами

## Оператор «запятая»

- вычисляются все выражения, возвращается результат только последнего выражения

```js

    let a = (1 + 2, 3 + 4); // a = 7

```