
---

## Краткий конспект "Дескрипторы свойств"

Свойства объектов в JavaScript имеют не только значение (value), но и специальные атрибуты, называемые флагами:

- **writable**: определяет, можно ли изменять значение свойства.
- **enumerable**: определяет, будет ли свойство перечисляться в циклах `for...in` и методах вроде `Object.keys()`.
- **configurable**: определяет, можно ли удалять свойство и изменять его флаги.

### Методы для работы с дескрипторами

- **Object.getOwnPropertyDescriptor(obj, propertyName)**: возвращает объект-дескриптор, содержащий информацию о свойстве и его флагах.
- **Object.defineProperty(obj, propertyName, descriptor)**: позволяет изменять или создавать свойство с заданными флагами. Если флаг явно не указан, ему присваивается значение `false`.
- **Object.defineProperties(obj, descriptors)**: позволяет определять сразу несколько свойств объекта с их дескрипторами.
- **Object.getOwnPropertyDescriptors(obj)**: возвращает объект, содержащий дескрипторы всех собственных свойств объекта.

### Флаги свойств

- **writable: false**: делает свойство доступным только для чтения.
- **enumerable: false**: делает свойство неперечислимым (скрытым для `for...in` и `Object.keys()`).
- **configurable: false**: делает свойство неконфигурируемым. Неконфигурируемые свойства нельзя удалить, а их флаги нельзя изменить (но значение можно изменить, если `writable: true`).

### Глобальное запечатывание объекта

Методы для применения ограничений ко всему объекту:

- **Object.preventExtensions(obj)**: запрещает добавление новых свойств в объект.
- **Object.seal(obj)**: запрещает добавление/удаление свойств и устанавливает `configurable: false` для всех существующих свойств.
- **Object.freeze(obj)**: запрещает добавление/удаление/изменение свойств и устанавливает `configurable: false` и `writable: false` для всех существующих свойств.

Методы для проверки состояния объекта:

- **Object.isExtensible(obj)**: возвращает `false`, если добавление свойств запрещено.
- **Object.isSealed(obj)**: возвращает `true`, если добавление/удаление свойств запрещено и все свойства неконфигурируемые.
- **Object.isFrozen(obj)**: возвращает `true`, если добавление/удаление/изменение свойств запрещено и все свойства неконфигурируемые и доступны только для чтения.

### Клонирование с дескрипторами

`Object.defineProperties({}, Object.getOwnPropertyDescriptors(obj))` позволяет создать "глубокий" клон объекта, копируя не только значения свойств, но и их флаги.

