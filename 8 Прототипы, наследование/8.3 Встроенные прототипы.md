# Встроенные прототипы в JavaScript

В JavaScript все объекты имеют прототипы, что позволяет реализовать наследование свойств и методов. Встроенные объекты, такие как `Object`, `Array`, `Function` и другие, также используют прототипы для организации своей функциональности.

## Object.prototype

При создании пустого объекта:

```javascript
let obj = {};
alert(obj); // "[object Object]"
```

Хотя объект `obj` кажется пустым, он наследует методы от `Object.prototype`, включая метод `toString`. Это происходит потому, что создание объекта через литерал `{}` эквивалентно вызову `new Object()`, где `Object` — встроенная функция-конструктор с собственным свойством `prototype`, содержащим методы, такие как `toString`.

Проверим это:

```javascript
let obj = {};

alert(obj.__proto__ === Object.prototype); // true
alert(Object.prototype.__proto__); // null
```

## Другие встроенные прототипы

Другие встроенные объекты, такие как `Array`, `Date`, `Function` и т.д., также используют прототипы для хранения своих методов. Например, при создании массива `[1, 2, 3]` используется конструктор `Array`, и его прототипом становится `Array.prototype`, предоставляющий методы для работы с массивами.

Иерархия прототипов выглядит следующим образом:

- `Object.prototype` находится на вершине иерархии.
- `Array.prototype` наследует от `Object.prototype`.
- `Function.prototype` также наследует от `Object.prototype`.

Проверим это на примере массива:

```javascript
let arr = [1, 2, 3];

alert(arr.__proto__ === Array.prototype); // true
alert(arr.__proto__.__proto__ === Object.prototype); // true
alert(arr.__proto__.__proto__.__proto__); // null
```

Методы в прототипах могут пересекаться. Например, `Array.prototype` имеет свой метод `toString`, который выводит элементы массива через запятую:

```javascript
let arr = [1, 2, 3];
alert(arr); // "1,2,3"
```

Этот метод `toString` переопределяет одноимённый метод из `Object.prototype`.

## Прототипы функций

Функции в JavaScript являются объектами встроенного конструктора `Function`. Все методы функций, такие как `call`, `apply` и другие, берутся из `Function.prototype`. У функций также есть свой метод `toString`.

Проверим это:

```javascript
function f() {}

alert(f.__proto__ === Function.prototype); // true
alert(f.__proto__.__proto__ === Object.prototype); // true
```

## Изменение встроенных прототипов

Встроенные прототипы можно изменять. Например, добавив метод к `String.prototype`, он станет доступен для всех строк:

```javascript
String.prototype.show = function () {
  alert(this);
};

"BOOM!".show(); // BOOM!
```

Однако изменение встроенных прототипов может привести к конфликтам, особенно если используются сторонние библиотеки. Поэтому рекомендуется с осторожностью подходить к изменению встроенных прототипов.

## Итог

- Встроенные объекты в JavaScript используют прототипы для организации своей функциональности.
- `Object.prototype` находится на вершине иерархии прототипов.
- Изменение встроенных прототипов возможно, но требует осторожности.

Понимание встроенных прототипов помогает эффективно использовать наследование и расширять функциональность объектов в JavaScript.
